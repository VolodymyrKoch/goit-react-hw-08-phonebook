(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[1],{103:function(t,e,n){"use strict";n.r(e);var c,r,a,o,u=n(1),i=n(0),b=n.n(i),j=n(27),s=n.n(j),O=n(21),l=n(22),f=n(23),d=n(24),h=n(12),p=n(18),m=n(9),g=n(7),v=(n(63),n(51)),x=n.n(v),C=function(t){Object(f.a)(n,t);var e=Object(d.a)(n);function n(){return Object(O.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{children:Object(u.jsx)(x.a,{type:"Puff",color:"#00BFFF",height:100,width:100})})}}]),n}(b.a.Component),E=n(30),k=function(t){return Object(g.g)(Object(p.b)((function(t){return{loginIn:Boolean(t.auth.token)}}))((function(e){return Object(u.jsx)(t,Object(m.a)({},e))})))},y=k((function(t){var e=t.component,n=t.loginIn,c=Object(E.a)(t,["component","loginIn"]);return Object(u.jsx)(g.b,Object(m.a)(Object(m.a)({},c),{},{render:function(t){return n?Object(u.jsx)(e,Object(m.a)({},t)):Object(u.jsx)(g.a,{to:"/login"})}}))})),T=k((function(t){var e=t.component,n=t.loginIn,c=Object(E.a)(t,["component","loginIn"]);return Object(u.jsx)(g.b,Object(m.a)(Object(m.a)({},c),{},{render:function(t){return n&&c.restricted?Object(u.jsx)(g.a,{to:"/contacts"}):Object(u.jsx)(e,Object(m.a)({},t))}}))})),N=function(t){var e=t.routes.map((function(t,e){return t.private?Object(u.jsx)(y,Object(m.a)({},t),e):Object(u.jsx)(T,Object(m.a)({},t),e)}));return Object(u.jsx)("div",{class:"conteiner",children:Object(u.jsx)(i.Suspense,{fallback:Object(u.jsx)(C,{}),children:Object(u.jsx)(g.d,{children:e})})})},R=Object(i.lazy)((function(){return n.e(7).then(n.bind(null,269))})),S=Object(i.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(8)]).then(n.bind(null,270))})),_="/",A="/register",U="/login",w="/contacts",I=[{path:_,exact:!0,component:R,private:!1,restricted:!1},{path:A,exact:!0,component:Object(i.lazy)((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,271))})),private:!1,restricted:!0},{path:U,exact:!0,component:S,private:!1,restricted:!0},{path:w,exact:!0,component:Object(i.lazy)((function(){return Promise.all([n.e(6),n.e(5)]).then(n.bind(null,273))})),private:!0,restricted:!1},{exact:!0,component:Object(i.lazy)((function(){return n.e(9).then(n.bind(null,272))})),private:!1,restricted:!1}],q=n(25),z={logout:q.e},D=Object(p.b)((function(t){return{loginIn:Boolean(t.auth.token),user:t.auth.user}}),z)((function(t){var e=t.user,n=t.logout,c=t.loginIn,r=e.name,a=e.email;return Object(u.jsx)("div",{children:c?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h6",{children:["name: ",r]}),Object(u.jsxs)("h6",{children:["email: ",a]}),Object(u.jsx)("button",{type:"button",onClick:function(){return n()},children:"Logout"})]}):null})})),F=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(h.c,{exact:!0,to:U,className:"nav-link",activeClassName:"active",children:"Login"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(h.c,{exact:!0,to:A,className:"nav-link",activeClassName:"active",children:"Register"})})]})},B=function(){return Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(h.c,{exact:!0,to:w,className:"nav-link",activeClassName:"active",children:"Contacts"})})},G=k((function(t){var e=t.loginIn,n=!e&&Object(u.jsx)(F,{}),c=e&&Object(u.jsx)(B,{});return Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("ul",{className:"navbar-nav",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(h.c,{exact:!0,to:_,className:"nav-link",activeClassName:"active",children:"Home"})}),n,c]}),Object(u.jsx)(D,{})]})})})),M=function(t){var e=t.children;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(G,{}),e]})},L=function(t){Object(f.a)(n,t);var e=Object(d.a)(n);function n(){return Object(O.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.getCurrentUser)()}},{key:"render",value:function(){return Object(u.jsx)(h.a,{children:Object(u.jsx)(M,{children:Object(u.jsx)(N,{routes:I})})})}}]),n}(i.Component),P={getCurrentUser:q.c},Q=Object(p.b)(null,P)(L),V=n(26),H=n(3),J=n(6),K=n(2),W=n(8),X={name:null,email:null},Y=null,Z=null,$=[],tt="",et=Object(H.c)(X,(c={},Object(J.a)(c,K.n,(function(t,e){return e.payload.user})),Object(J.a)(c,K.t,(function(t,e){return e.payload.user})),Object(J.a)(c,K.k,(function(t,e){return e.payload})),Object(J.a)(c,K.q,(function(){return X})),c)),nt=Object(H.c)(Z,(r={},Object(J.a)(r,K.n,(function(t,e){return e.payload.token})),Object(J.a)(r,K.t,(function(t,e){return e.payload.token})),Object(J.a)(r,K.q,(function(){return Z})),r)),ct=function(){return Y},rt=Object(H.c)(Y,(a={},Object(J.a)(a,K.m,ct),Object(J.a)(a,K.p,ct),Object(J.a)(a,K.s,ct),Object(J.a)(a,K.j,ct),Object(J.a)(a,K.l,(function(t,e){return e.payload})),Object(J.a)(a,K.o,(function(t,e){return e.payload})),Object(J.a)(a,K.r,(function(t,e){return e.payload})),Object(J.a)(a,K.i,(function(t,e){return e.payload})),a)),at=Object(H.c)($,(o={},Object(J.a)(o,K.h,(function(t,e){return e.payload})),Object(J.a)(o,K.c,(function(t,e){return[].concat(Object(V.a)(t),[Object(m.a)({},e.payload)])})),Object(J.a)(o,K.w,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),o)),ot=Object(H.c)(tt,Object(J.a)({},K.d,(function(t,e){return e.payload}))),ut=Object(W.c)({items:at,filter:ot,user:et,token:nt,error:rt}),it=n(17),bt=n(52),jt={key:"auth",storage:n.n(bt).a,whitelist:["token"]},st={auth:Object(it.g)(jt,ut)},Ot=Object(H.a)({reducer:st,devTools:!1,middleware:Object(V.a)(Object(H.d)({serializableCheck:{ignoredActions:[it.a,it.b,it.c,it.d,it.f,it.e]}}))}),lt=Object(it.h)(Ot),ft=n(53);s.a.render(Object(u.jsx)(p.a,{store:Ot,children:Object(u.jsx)(ft.a,{loading:null,persistor:lt,children:Object(u.jsx)(Q,{})})}),document.getElementById("root"))},2:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return i})),n.d(e,"f",(function(){return b})),n.d(e,"v",(function(){return j})),n.d(e,"w",(function(){return s})),n.d(e,"u",(function(){return O})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return f})),n.d(e,"r",(function(){return p})),n.d(e,"t",(function(){return h})),n.d(e,"s",(function(){return d})),n.d(e,"m",(function(){return x})),n.d(e,"n",(function(){return C})),n.d(e,"o",(function(){return v})),n.d(e,"p",(function(){return m})),n.d(e,"q",(function(){return g})),n.d(e,"l",(function(){return E})),n.d(e,"j",(function(){return k})),n.d(e,"k",(function(){return y})),n.d(e,"i",(function(){return T}));var c=n(3),r=Object(c.b)("ADD_CONTACT_REQUEST"),a=Object(c.b)("ADD_CONTACT_SUCCESS"),o=Object(c.b)("ADD_CONTACT_ERROR"),u=Object(c.b)("GET_CONTACTS_REQUEST"),i=Object(c.b)("GET_CONTACTS_SUCCESS"),b=Object(c.b)("GET_CONTACTS_ERROR"),j=Object(c.b)("REMOVE_CONTACT_REQUEST"),s=Object(c.b)("REMOVE_CONTACT_SUCCESS"),O=Object(c.b)("REMOVE_CONTACT_ERROR"),l=Object(c.b)("CHANGE_FILTER"),f=Object(c.b)("ERROR_MESSAGE"),d=Object(c.b)("contact/registerRequest"),h=Object(c.b)("contact/registerSuccess"),p=Object(c.b)("contact/registerError"),m=Object(c.b)("contact/logoutRequest"),g=Object(c.b)("contact/logoutSuccess"),v=Object(c.b)("contact/logoutError"),x=Object(c.b)("contact/loginRequest"),C=Object(c.b)("contact/loginSuccess"),E=Object(c.b)("contact/loginError"),k=Object(c.b)("contact/getCurrentUserRequest"),y=Object(c.b)("contact/getCurrentUserSuccess"),T=Object(c.b)("contact/getCurrentUserError")},25:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"g",(function(){return d})),n.d(e,"d",(function(){return j})),n.d(e,"f",(function(){return b})),n.d(e,"c",(function(){return O})),n.d(e,"e",(function(){return s}));var c=n(9),r=n(16),a=n.n(r),o=n(2);a.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var u=function(t){a.a.defaults.headers.Authorization="Bearer ".concat(t)},i=function(){a.a.defaults.headers.Authorization=""},b=function(t){return function(e){e(Object(o.s)()),a.a.post("/users/signup",t).then((function(t){var n=t.data;e(Object(o.t)(n))})).catch((function(t){e(Object(o.r)(t))}))}},j=function(t){return function(e){e(Object(o.m)()),a.a.post("/users/login",t).then((function(t){var n=t.data;e(Object(o.n)(n))})).catch((function(t){e(Object(o.l)(t))}))}},s=function(){return function(t,e){var n=e().auth.token;t(Object(o.p)()),u(n),a.a.post("/users/logout").then((function(){t(Object(o.q)()),i()})).catch((function(e){t(Object(o.o)(e))}))}},O=function(){return function(t,e){var n=e().auth.token;n&&(u(n),t(Object(o.j)()),a.a.get("/users/current").then((function(e){var n=e.data;t(Object(o.k)(n))})).catch((function(e){t(Object(o.i)(e))})))}},l=function(t){return function(e){e(Object(o.b)()),a.a.post("/contacts",Object(c.a)({},t)).then((function(t){console.log(t),e(Object(o.c)(t.data))})).catch((function(t){e(Object(o.a)(t.message))}))}},f=function(){return function(t){t(Object(o.g)()),a.a.get("/contacts").then((function(e){t(Object(o.h)(e.data))})).catch((function(e){t(Object(o.f)(e.message)),setTimeout((function(){t(Object(o.e)())}),1500)}))}},d=function(t){return function(e){e(Object(o.v)()),a.a.delete("/contacts/".concat(t)).then((function(){e(Object(o.w)(t))})).catch((function(t){e(Object(o.u)(t.message)),setTimeout((function(){e(Object(o.e)())}),1500)}))}}}},[[103,2,4]]]);
//# sourceMappingURL=main.1c59c5de.chunk.js.map